PROJECT WORKFLOW


#####command to sync folder:  rsync -aPr /home/pelmo/project/ lsbVM:/home/um69/project



#building the database index
	makeblastdb -in uniprot_sprot.fasta -dbtype prot


#running psi-blast
	#reference command
		psiblast -query $input_filename -db uniprot_sprot.fasta -evalue 0.01 -num_iterations 3 -out_ascii_pssm $input_filename_.pssm -out $input_filename_.alns.blast



#obtaining the blind set

#search PDB with the following parameters:
DepositDateQuery: pdbx_database_status.recvd_initial_deposition_date.comparator=between pdbx_database_status.recvd_initial_deposition_date.min=2015-01-01 pdbx_database_status.recvd_initial_deposition_date.max=2019-09-12 and Resolution is between 0.0 and 2.5 and Sequence Length is between 50 and 300 and Percent Sequence Alignment Search : PDB can contain Expression Tag sequence = Yes , and Representative Structures at 30% Sequence Identity

#Obtain from the file just ID, chain and sequence
	less blind_set_reference.csv | cut -d "," -f 1,2,5 | sed 's/"//g' | sed 's/,/_/' | sed 's/^/>/' | sed 's/,/\n/'> bt_id_chain_seq.fasta
#Blastclust to reduce similarity
	blastclust -i bt_id_seqs.fasta -o clustered_seqs.fasta -L 0.30 -Sblastclust -i bt_id_seqs.fasta -o clustered_seqs.fasta -L 0.30 -S 30 30
